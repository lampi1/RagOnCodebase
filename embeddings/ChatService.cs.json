{
  "file_name": "ChatService.cs",
  "path": "c:\\Users\\d.baldassarre\\source\\repos\\RagOnCodebase\\services\\ChatService.cs",
  "content": "using System.Text;\nusing System.Text.Json;\nusing Elasticsearch.Net;\nusing Nest;\n\npublic class ChatService\n{\n    private readonly HttpClient _httpClient;\n    private readonly ElasticClient _elasticClient;\n    private readonly List<ChatMessageContent> _chatHistory;\n    private readonly string _azureApiKey;\n    private readonly string _azureEmbeddingEndpoint;\n    private readonly string _azureCompletionEndpoint;\n    private readonly string _elasticApiKey;\n    private readonly string _elasticCloudID;\n    private readonly string _elasticCloudEndpoint;\n\n    public ChatService(IConfiguration configuration)\n    {\n        _azureApiKey = configuration[\"AzureOpenAI:ApiKey\"];\n        _azureEmbeddingEndpoint = configuration[\"AzureOpenAI:EmbeddingEndpoint\"];\n        _azureCompletionEndpoint = configuration[\"AzureOpenAI:CompletionEndpoint\"];\n\n        _elasticApiKey = configuration[\"ElasticSearch:ApiKey\"];\n        _elasticCloudID = configuration[\"ElasticSearch:CloudId\"];\n        _elasticCloudEndpoint = configuration[\"ElasticSearch:CloudEndPoint\"];\n        _httpClient = new HttpClient\n        {\n            Timeout = Timeout.InfiniteTimeSpan\n        };\n        _httpClient.DefaultRequestHeaders.Add(\"api-key\", _azureApiKey);\n\n        var cloudSettings = new ConnectionSettings(new Uri(_elasticCloudEndpoint))\n            .DefaultIndex(\"codebase_index_v2\")\n            .ApiKeyAuthentication(new ApiKeyAuthenticationCredentials(_elasticApiKey));\n\n        _elasticClient = new ElasticClient(cloudSettings);\n\n        _chatHistory = new List<ChatMessageContent>\n        {\n            new ChatMessageContent(\"system\", \"Sei un'assistente virtuale per un team di sviluppo software, progettata per rispondere alle domande tecniche e di progetto degli utenti (USER) in modo preciso e sintetico. Il tuo compito è utilizzare i dettagli forniti nei messaggi di sistema, che contengono estratti di file, documentazione e altre informazioni rilevanti del progetto. Rispondi alle domande basandoti su queste informazioni e mantieni una memoria a breve termine delle risposte e dei dettagli discussi. Se un utente chiede qualcosa di non specificato nei messaggi di sistema, chiedi gentilmente ulteriori dettagli come il nome di un file o di una classe per chiarire meglio la richiesta. Assumi un tono professionale e gentile, supportando gli sviluppatori con informazioni concise, ma non esitare a richiedere dettagli aggiuntivi quando necessario per rispondere con precisione.\")\n        };\n    }\n\n    public async Task<float[]> GenerateEmbeddingAsync(string text)\n    {\n        try\n        {\n            var requestBody = new { input = text };\n            var jsonString = JsonSerializer.Serialize(requestBody);\n            var content = new StringContent(jsonString, Encoding.UTF8, \"application/json\");\n\n            var response = await _httpClient.PostAsync(_azureEmbeddingEndpoint, content);\n            response.EnsureSuccessStatusCode();\n\n            var responseString = await response.Content.ReadAsStringAsync();\n            var jsonResponse = JsonSerializer.Deserialize<Dictionary<string, object>>(responseString);\n\n            var dataArray = (JsonElement)jsonResponse[\"data\"];\n            var embeddingArray = dataArray[0].GetProperty(\"embedding\");\n\n            var embedding = JsonSerializer.Deserialize<float[]>(embeddingArray.GetRawText());\n            return embedding;\n        }\n        catch (HttpRequestException ex)\n        {\n            Console.WriteLine($\"Errore nella richiesta HTTP: {ex.Message}\");\n            throw;\n        }\n        catch (JsonException ex)\n        {\n            Console.WriteLine($\"Errore nella deserializzazione JSON: {ex.Message}\");\n            throw;\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($\"Errore generico durante la generazione dell'embedding: {ex.Message}\");\n            throw;\n        }\n    }\n    public async Task<List<string>> SearchDocumentsWithEmbeddingAsync(string queryText)\n    {\n        try\n        {\n            var queryEmbedding = await GenerateEmbeddingAsync(queryText);\n\n            var searchResponse = _elasticClient.Search<dynamic>(s => s\n                .Query(q => q\n                    .ScriptScore(ss => ss\n                        .Query(qq => qq.MatchAll())\n                        .Script(script => script\n                            .Source(\"cosineSimilarity(params.query_vector, 'embedding') + 1.0\")\n                            .Params(p => p.Add(\"query_vector\", queryEmbedding))\n                        )\n                    )\n                )\n                .Size(2)\n            );\n\n            if (!searchResponse.IsValid)\n            {\n                Console.WriteLine($\"Errore nella ricerca: {searchResponse.DebugInformation}\");\n                return new List<string>();\n            }\n\n            var documents = new List<string>();\n            foreach (var hit in searchResponse.Hits)\n            {\n                if (hit.Source.TryGetValue(\"content\", out object contentValue))\n                {\n                    documents.Add(contentValue.ToString());\n                }\n            }\n\n            return documents;\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($\"Errore durante la ricerca dei documenti: {ex.Message}\");\n            return new List<string>();\n        }\n    }\n\n    public async Task<string> GetResponseAsync(string userInput)\n    {\n        try\n        {\n            _chatHistory.Add(new ChatMessageContent(\"user\", userInput));\n\n            var searchResults = await SearchDocumentsWithEmbeddingAsync(userInput);\n\n            foreach (var result in searchResults)\n            {\n                _chatHistory.Add(new ChatMessageContent(\"system\", $\"CONTESTO DI PROGETTO: {result}\"));\n            }\n\n            const int maxHistoryMessages = 7;\n            if (_chatHistory.Count > maxHistoryMessages)\n            {\n                _chatHistory.RemoveRange(0, _chatHistory.Count - maxHistoryMessages);\n            }\n            var messages = _chatHistory.Select(message => new\n            {\n                role = message.Role,\n                content = CleanContent(message.Content)\n            }).ToList();\n\n            var requestBody = new\n            {\n                model = \"gpt-35-turbo\",\n                messages = messages,\n                max_tokens = 500,\n            };\n\n            var jsonString = JsonSerializer.Serialize(requestBody);\n            var content = new StringContent(jsonString, Encoding.UTF8, \"application/json\");\n\n            // Invio la richiesta all'IA di Azure\n            string azureChatEndpoint = _azureCompletionEndpoint;\n            var response = await _httpClient.PostAsync(azureChatEndpoint, content);\n            response.EnsureSuccessStatusCode();\n\n            var responseString = await response.Content.ReadAsStringAsync();\n            var jsonResponse = JsonSerializer.Deserialize<Dictionary<string, object>>(responseString);\n            var choices = (JsonElement)jsonResponse[\"choices\"];\n            var messageContent = choices[0].GetProperty(\"message\").GetProperty(\"content\").GetString();\n\n            _chatHistory.Add(new ChatMessageContent(\"assistant\", messageContent));\n            return messageContent;\n        }\n        catch (HttpRequestException ex)\n        {\n            Console.WriteLine($\"Errore nella richiesta HTTP: {ex.Message}\");\n            return \"Errore durante la richiesta al servizio di completamento.\";\n        }\n        catch (JsonException ex)\n        {\n            Console.WriteLine($\"Errore nella deserializzazione JSON: {ex.Message}\");\n            return \"Errore durante l'elaborazione della risposta del servizio di completamento.\";\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($\"Errore generico durante la generazione della risposta: {ex.Message}\");\n            return \"Si è verificato un errore durante la generazione della risposta.\";\n        }\n    }\n\n    private string CleanContent(string content)\n    {\n        return content.Replace(\"\\n\", \" \")\n                      .Replace(\"\\r\", \" \")\n                      .Replace(\"\\\\\", \" \")\n                      .Replace(\"\\\"\", \"'\")\n                      .Replace(\"\\t\", \" \")\n                      .Trim();\n    }\n}\n\npublic class ChatMessageContent\n{\n    public string Role { get; }\n    public string Content { get; }\n\n    public ChatMessageContent(string role, string content)\n    {\n        Role = role;\n        Content = content;\n    }\n}\n",
  "embedding": [
    -0.0148387635,
    0.015404928,
    -0.007840713,
    -0.0032208806,
    0.008663625,
    0.014786096,
    0.003736024,
    -0.014957262,
    -0.019433908,
    -0.032100182,
    -0.0037623572,
    0.013127104,
    -0.006932217,
    -0.027017873,
    -0.008525376,
    -0.0052765165,
    0.019262742,
    -0.015984258,
    0.0033245676,
    -0.03470717,
    -0.005427933,
    0.015431261,
    0.027702536,
    0.018485913,
    -0.0076827137,
    -0.026254209,
    -0.003518775,
    -0.018090915,
    0.017735416,
    -0.025648545,
    0.019249575,
    -0.037814487,
    -0.0042396467,
    -0.022870392,
    -0.0138907675,
    0.006369345,
    -0.0018614287,
    0.006227804,
    0.019868406,
    0.002340364,
    0.005487182,
    -0.003349255,
    0.011527362,
    -0.009308789,
    -0.03199485,
    0.013370687,
    -0.012936189,
    -0.015260095,
    0.004848602,
    0.003650441,
    0.023173224,
    0.01744575,
    -0.027465537,
    0.012251525,
    -0.014720264,
    0.010605699,
    -0.017379917,
    0.02063207,
    0.014917763,
    0.0123041915,
    0.0033229217,
    0.016260756,
    -0.01616859,
    -0.009670871,
    0.00033389687,
    -0.005144851,
    -0.0062146373,
    -0.0016005654,
    0.0039368146,
    -0.011975027,
    0.0040783556,
    0.01670842,
    0.0057538063,
    -0.02617521,
    0.036497828,
    0.017748583,
    0.01818308,
    -0.035233833,
    0.0020638653,
    -0.0042198966,
    0.024160719,
    -0.037709154,
    -0.010500367,
    -0.0010039536,
    0.009196873,
    0.018327914,
    0.010111952,
    0.023699887,
    -0.004970393,
    -0.01335752,
    0.009598454,
    -0.0040454394,
    -0.0012088589,
    0.021461565,
    0.01000662,
    -0.004802519,
    -0.01760375,
    0.02733387,
    0.00077888696,
    -0.026609708,
    -0.009565538,
    0.012725523,
    -0.035391834,
    -0.0024736759,
    -0.02617521,
    -0.0038446484,
    0.012310775,
    -0.020829568,
    0.020105405,
    0.017156085,
    -0.00095951627,
    0.023871053,
    0.0044503123,
    -0.018722912,
    0.0022086978,
    -0.0013446395,
    0.040079143,
    -0.02318639,
    -0.00023473587,
    -0.013680102,
    -0.01188286,
    0.013054688,
    -0.0058097644,
    0.0057603894,
    0.030836187,
    0.011316696,
    -0.023871053,
    -0.032284513,
    -0.006991467,
    0.009756454,
    -0.010092203,
    -0.008104045,
    0.012936189,
    0.004131022,
    -0.023449723,
    0.0212509,
    -0.031731516,
    0.0112837795,
    -0.009236373,
    0.0013874309,
    -0.005292975,
    0.03892048,
    0.00420673,
    -0.009117873,
    0.012784773,
    0.022857225,
    -0.021382565,
    0.0074127982,
    0.016102757,
    0.024489883,
    0.010994115,
    -0.011770944,
    -0.017366752,
    0.027544536,
    -0.021211399,
    0.01329827,
    0.011599778,
    0.014917763,
    -0.011033614,
    -0.030388523,
    0.008189628,
    0.03554983,
    0.008143545,
    -0.03404884,
    0.015062596,
    0.016787421,
    -0.0037228575,
    -0.019236408,
    0.008887458,
    -0.024279218,
    -0.027807869,
    0.015826259,
    -0.04595145,
    -0.0034068588,
    -0.008696542,
    -0.0140751,
    0.004878227,
    0.012435858,
    -0.00017034294,
    -0.014312099,
    0.0010426305,
    0.032521512,
    0.015075762,
    -0.002802841,
    0.0050428095,
    -0.022633392,
    -0.0026349667,
    -0.008657042,
    0.032547846,
    -0.017695917,
    0.02462155,
    0.022936225,
    -0.010559617,
    -0.05324575,
    -0.6029251,
    -0.0045029786,
    0.043528795,
    0.0033229217,
    0.022541227,
    0.00982887,
    -0.007893379,
    0.007959212,
    0.0025345713,
    0.050823092,
    0.012442441,
    0.007590547,
    -0.012771606,
    0.020039571,
    0.023212723,
    0.0005102059,
    0.01903891,
    -0.04742611,
    0.0110006975,
    0.007386465,
    -0.015115262,
    0.023752553,
    -0.03275851,
    -0.016958587,
    -0.015681425,
    0.0044733537,
    0.00048716436,
    0.0038051486,
    -0.008176461,
    0.019447075,
    -0.010388451,
    0.0040059392,
    0.004723519,
    -0.005065851,
    0.061830375,
    -0.0032439223,
    -0.023370722,
    0.013680102,
    -0.0029065278,
    0.017537916,
    -0.027886868,
    -0.00976962,
    0.0027073831,
    -0.0075773806,
    0.011428612,
    0.0014285765,
    0.018275246,
    -0.013423353,
    -0.0138907675,
    0.027202204,
    0.020566236,
    -0.0010747241,
    0.020302905,
    -0.0040520225,
    0.019644573,
    0.0030316107,
    0.029098196,
    -0.016892754,
    0.0210534,
    -0.0033146928,
    -0.022593893,
    0.016484588,
    -0.01670842,
    -0.029730193,
    -0.015799925,
    0.03257418,
    -0.0035681499,
    -0.0070638834,
    -0.015167928,
    -0.03857815,
    0.02183023,
    0.014957262,
    -0.0004021986,
    -0.016734755,
    0.005009893,
    0.028334532,
    0.040316142,
    -0.010915115,
    -0.013245604,
    0.013798601,
    -0.010072452,
    -0.022383228,
    -0.031204853,
    -0.003949981,
    -0.009282456,
    -0.017748583,
    -0.035418164,
    -0.0037952736,
    0.012666273,
    0.007123133,
    0.030362189,
    0.024832215,
    -0.02922986,
    -0.0021395732,
    -0.010388451,
    0.011191614,
    0.00566164,
    -0.007162633,
    0.022751892,
    -0.023489222,
    0.0092429565,
    0.016853254,
    0.017235085,
    0.017788082,
    0.035892162,
    0.012383192,
    -0.009341706,
    0.0046840194,
    0.0068663843,
    -0.020684736,
    -0.0007056477,
    -0.021896062,
    -0.024266051,
    -0.039447147,
    -0.016076423,
    -0.017340418,
    0.025872378,
    -0.0035516915,
    0.0068071345,
    0.0020325945,
    -0.013443103,
    0.014680764,
    0.015878925,
    -0.010664949,
    -0.0049572266,
    0.01120478,
    -0.021975063,
    -0.015602427,
    -0.0035483998,
    -0.0002320614,
    -0.0042988965,
    -0.015102095,
    0.020974401,
    -0.006106013,
    0.04445046,
    -0.003235693,
    0.025727544,
    0.005181059,
    0.014535931,
    -0.008801875,
    -0.0056945565,
    0.00849246,
    -0.0023173224,
    -0.00038368307,
    0.0026481333,
    -0.0088611245,
    -0.0114681125,
    -0.0016351277,
    0.005371975,
    0.0053653913,
    0.0026925707,
    0.0041738134,
    -0.017142918,
    0.010849282,
    -0.004934185,
    -0.013390437,
    -0.023002058,
    -0.032942843,
    0.031889517,
    -0.03768282,
    -0.0028472783,
    0.018617578,
    -0.019591907,
    0.016221257,
    -0.020763734,
    -0.0035023168,
    -0.013561603,
    0.015602427,
    3.222218e-05,
    -0.014298933,
    0.017551083,
    -0.0064944276,
    0.00230251,
    0.0011018802,
    0.011257446,
    0.0017495125,
    -0.04005281,
    -0.016418755,
    0.041790802,
    -0.0037491906,
    -0.015799925,
    0.026385875,
    0.005822931,
    -0.01628709,
    0.013265354,
    -0.010190952,
    0.053930413,
    0.029940858,
    -0.010223868,
    0.01698492,
    -0.005454266,
    0.00040178717,
    -0.012310775,
    0.02633321,
    -0.0021198234,
    -0.0065898853,
    -0.009591871,
    -0.006652427,
    0.0041672303,
    -0.0212904,
    0.025674878,
    0.012323942,
    0.027044205,
    0.00845296,
    -0.0023370723,
    -0.006793968,
    -0.020658402,
    -0.01718242,
    0.031573515,
    0.0066392603,
    0.020724235,
    -0.01269919,
    -0.025780212,
    0.0069388007,
    -0.007649797,
    0.00081098056,
    -0.0063726366,
    0.0036537326,
    -0.0120342765,
    0.025108714,
    0.004460187,
    -0.013719602,
    0.008979624,
    -0.009927619,
    -0.027518203,
    0.010921698,
    0.009493122,
    0.013614269,
    0.018749245,
    -0.0071823825,
    0.0035747332,
    0.027465537,
    -0.002743591,
    -0.012251525,
    0.014983595,
    -0.014285766,
    -0.0031632767,
    0.0054773074,
    0.030230524,
    -0.0052238503,
    0.0019651158,
    -0.017116586,
    0.0017281168,
    -0.028518865,
    0.04890077,
    -0.0139039345,
    0.028782196,
    -0.014628097,
    0.016050091,
    0.0023535306,
    -0.018643912,
    -0.0012549419,
    -0.008301544,
    0.005256767,
    0.010441117,
    -0.025200881,
    -0.0039071897,
    -0.00837396,
    -0.009677454,
    0.03773549,
    0.004641228,
    -0.0046642697,
    0.016800588,
    0.009256123,
    -0.0062771784,
    -0.016352922,
    -0.030072525,
    -0.010776865,
    -0.020487236,
    -0.026925705,
    0.005395016,
    -0.020724235,
    0.0105662,
    -0.013917101,
    0.028782196,
    0.011112615,
    0.03152085,
    0.04605678,
    0.007972379,
    -0.0014516182,
    -0.0060039717,
    -0.011843361,
    0.008940124,
    -0.0074654645,
    0.01345627,
    -0.016431922,
    -0.006925634,
    -0.004177105,
    -0.016524088,
    0.02547738,
    0.008196211,
    0.024529384,
    0.0028769032,
    -0.007906546,
    0.011158697,
    0.018196248,
    0.018709745,
    -0.010651783,
    -0.030625522,
    -0.0061488044,
    0.0057801395,
    0.002631675,
    -0.030546522,
    0.002784737,
    0.011553695,
    -0.019289074,
    -0.024516217,
    0.003499025,
    -0.013666935,
    -0.023660388,
    -0.0047399774,
    0.022883559,
    -0.006310095,
    0.005197517,
    0.003660316,
    0.013864434,
    0.0038479401,
    -0.007300882,
    0.042080466,
    0.01347602,
    -0.02695204,
    -0.036550492,
    -0.016616255,
    -0.01768275,
    0.016431922,
    0.030599188,
    0.009993453,
    0.004318646,
    0.0037491906,
    -0.0054114745,
    -0.024094885,
    0.003594483,
    -0.009223206,
    -0.012528024,
    -0.017853916,
    -0.0034661086,
    0.030177858,
    0.029677527,
    -0.00422648,
    -0.01124428,
    0.0020671568,
    -0.013745935,
    0.02749187,
    -0.03299551,
    0.012705773,
    0.041316804,
    -0.01818308,
    0.013410186,
    0.01267944,
    -0.003680066,
    0.007498381,
    -0.002669529,
    -0.0210534,
    -0.043449793,
    0.010664949,
    0.038525485,
    0.01973674,
    0.017142918,
    -0.007445715,
    0.044792786,
    -0.012988855,
    0.010434534,
    0.017616916,
    0.0028094242,
    0.0010475679,
    0.0027370078,
    -0.02326539,
    0.0020490529,
    0.029071862,
    -0.046162114,
    -0.017577417,
    0.029598527,
    -0.026622875,
    -0.00598093,
    0.015562926,
    0.012521441,
    -0.028861197,
    0.0019223242,
    0.0062771784,
    0.0061191795,
    -0.019684073,
    -0.010210701,
    -0.016379256,
    -0.004917727,
    -0.042528134,
    -0.030019857,
    -0.01969724,
    -0.018788744,
    -0.015483927,
    -0.021935564,
    -0.014193599,
    0.01977624,
    3.4973793e-05,
    0.021264067,
    0.026227877,
    -0.01265969,
    -0.025227213,
    0.014667598,
    0.023370722,
    -0.001556128,
    0.013403603,
    -0.016458256,
    -0.0031501101,
    -0.005773556,
    0.016589921,
    -0.0350495,
    0.028571531,
    -0.009157374,
    -0.011678778,
    0.0036142329,
    -0.0026333209,
    -0.036287162,
    0.0013512227,
    0.01265969,
    -0.008420044,
    -0.010796616,
    -0.0013792018,
    0.00841346,
    0.027807869,
    0.0077748797,
    -0.011678778,
    0.030151524,
    0.0028736114,
    -0.03594483,
    -0.010362118,
    -0.016998086,
    0.0036175246,
    -0.0040421477,
    0.012962522,
    0.009361456,
    -0.009427289,
    0.029440528,
    -0.026083043,
    -0.00841346,
    0.011547112,
    0.009973703,
    0.0139039345,
    -0.023041558,
    -0.0049835597,
    -0.010362118,
    0.013601102,
    0.003341026,
    -0.023541888,
    -0.019012576,
    0.027175872,
    -0.04695211,
    0.02458205,
    0.018696578,
    -0.02527988,
    0.006965134,
    0.01899941,
    -0.002179073,
    -0.0070967996,
    0.009927619,
    -0.017235085,
    6.66045e-05,
    -0.04434512,
    -0.037946153,
    -0.019512909,
    -0.024674216,
    -0.0013265354,
    -0.0016548776,
    0.01977624,
    0.0038709817,
    -0.025029715,
    -0.017577417,
    -0.02198823,
    0.0051613087,
    -0.015641926,
    -0.037129823,
    0.0009965474,
    0.005839389,
    0.013258771,
    0.0283082,
    -0.00911129,
    0.0065207607,
    -0.026346376,
    -0.04168547,
    -0.025819711,
    -0.00033183958,
    0.012429275,
    -0.014996762,
    0.025135048,
    0.014588597,
    0.052482083,
    -0.018327914,
    0.01842008,
    -0.023199556,
    -0.006688635,
    -0.00081838673,
    0.011007281,
    -0.008828208,
    0.010032953,
    0.009374622,
    -0.0024308844,
    0.029387861,
    0.012007943,
    -0.019684073,
    -0.017129753,
    0.027702536,
    -0.013838101,
    -0.02007907,
    -0.036708493,
    -0.030783521,
    -0.011428612,
    0.028782196,
    -0.016800588,
    0.02175123,
    -0.0138907675,
    -0.014259432,
    0.0490061,
    0.006168554,
    0.032468848,
    0.019591907,
    0.019473407,
    -0.021777563,
    -0.0053291833,
    -0.010046119,
    -0.019144243,
    -0.013824934,
    0.0035813164,
    -0.022830892,
    -0.014312099,
    0.02543788,
    0.014009267,
    0.021435231,
    0.025306214,
    0.015931591,
    0.001895991,
    0.014206766,
    -0.012942772,
    -0.007952629,
    0.0017198877,
    -0.0069585503,
    -0.051165424,
    -0.031257518,
    -0.008097461,
    -0.023212723,
    -0.011501029,
    0.011066531,
    0.002358468,
    0.012975689,
    -0.016221257,
    0.009506288,
    -0.025385214,
    -0.013956601,
    0.036971826,
    0.026820373,
    0.020263404,
    0.011329863,
    -0.0022514893,
    -0.0064845528,
    0.012179109,
    -0.018446412,
    -0.010954615,
    0.019526074,
    0.0348915,
    0.011928944,
    0.0026119251,
    0.0140751,
    -0.0036208162,
    -0.016840087,
    -0.014206766,
    0.012626774,
    0.035470832,
    -0.0075115478,
    -0.021224566,
    -0.019618241,
    -0.0138907675,
    0.015931591,
    -0.03217918,
    -0.009058624,
    0.006800551,
    -0.0068993005,
    -0.039052147,
    -0.0005912628,
    0.0068137175,
    0.051428758,
    0.008005296,
    0.042159468,
    -0.019302242,
    -0.016774254,
    -0.009005957,
    -0.005905222,
    0.007939463,
    0.022093562,
    -0.036050163,
    -0.02462155,
    0.0027370078,
    0.024305552,
    -0.004601728,
    -0.000285345,
    0.022119895,
    0.025569545,
    -0.01969724,
    -0.0018252205,
    0.011152114,
    -0.009670871,
    0.02007907,
    -0.0122186085,
    0.0018268663,
    0.032705843,
    -0.032705843,
    -0.004555645,
    0.018156748,
    0.00069865293,
    0.017656416,
    -0.004328521,
    -0.006264012,
    -0.013917101,
    -0.008775542,
    0.019631406,
    -0.0114681125,
    -0.009967119,
    -0.012988855,
    0.008156711,
    -0.0033031718,
    0.02420022,
    0.0038841483,
    -0.0028505698,
    0.0012442442,
    0.019104743,
    0.0060928464,
    -0.0021264066,
    0.025582712,
    0.006168554,
    -0.0042528133,
    0.0004986851,
    -0.017695917,
    0.029519526,
    0.0078012133,
    -0.004489812,
    -0.028676864,
    -0.026609708,
    0.014522765,
    0.036471494,
    0.008801875,
    0.00926929,
    -0.001245067,
    -0.01343652,
    0.0044272705,
    -0.01608959,
    -0.022870392,
    0.035760496,
    0.020237071,
    -0.028545199,
    0.017893415,
    -0.014628097,
    0.01570776,
    0.0040454394,
    -0.0043647294,
    -0.0030019858,
    -0.032784846,
    -0.013561603,
    0.0013536916,
    -0.00982887,
    -0.019170577,
    -0.015246928,
    -0.0148255965,
    0.0024539258,
    -0.019842073,
    -0.003538525,
    0.00033759995,
    -0.0033476092,
    -0.011849944,
    0.0045688115,
    0.031152185,
    -0.0029921108,
    -0.0068268846,
    -0.026254209,
    -0.03913115,
    0.005065851,
    -0.028624197,
    0.006310095,
    0.025385214,
    0.026254209,
    0.013364104,
    -0.008841375,
    -0.026148876,
    -0.009914453,
    -0.040658474,
    -0.014312099,
    -0.024292385,
    4.690603e-05,
    0.01892041,
    0.032626845,
    -0.028018534,
    0.033285175,
    -0.0075049642,
    0.015431261,
    -0.0059282635,
    0.017142918,
    -0.018327914,
    -0.014746597,
    0.006425303,
    0.0072613824,
    -0.017300919,
    0.02364722,
    0.0035516915,
    -0.012903272,
    0.0034101505,
    0.011046781,
    0.0002956314,
    -0.02559588,
    0.005592515,
    -0.0016663984,
    0.0036043578,
    0.0029954026,
    0.018617578,
    -0.019828906,
    0.023067892,
    0.0029970482,
    -0.027834201,
    0.008973041,
    0.0032570888,
    0.039947476,
    0.012830856,
    -0.010618866,
    -0.03921015,
    -0.0014878263,
    -0.048611104,
    -0.019526074,
    0.052166086,
    -0.0013117229,
    -0.019447075,
    0.046662446,
    -0.00015511905,
    -0.014048767,
    0.0018811786,
    0.03768282,
    0.003499025,
    -0.0037524821,
    0.026241042,
    -0.02954586,
    0.004262688,
    -0.0046741446,
    0.01273869,
    -0.00040281581,
    -0.016142257,
    0.009341706,
    0.024871716,
    -0.041474804,
    -0.002045761,
    0.028545199,
    -0.03865715,
    0.0050888928,
    0.012047443,
    0.010493783,
    -0.016919086,
    -0.043265462,
    0.023489222,
    -0.03570783,
    -0.014878263,
    0.019262742,
    -0.021277232,
    -0.0045589367,
    0.046004117,
    0.014430598,
    0.004035564,
    0.018617578,
    0.18338446,
    -0.024450384,
    -0.018736077,
    0.013956601,
    -0.013759102,
    -0.005292975,
    -0.006642552,
    0.01834108,
    -0.011316696,
    0.02741287,
    0.017432583,
    -0.008097461,
    0.01182361,
    -0.0016515859,
    0.004838727,
    -0.019144243,
    -0.017037585,
    -0.03141552,
    0.024805883,
    -0.002179073,
    -0.0035154833,
    -0.0063232617,
    0.0071823825,
    -0.0054180576,
    0.015062596,
    0.001830158,
    -0.016234424,
    -0.020460904,
    0.01853858,
    0.0061817206,
    -0.0075049642,
    0.029203529,
    0.01895991,
    0.018775579,
    -0.03389084,
    -0.018485913,
    0.014233099,
    -0.013811768,
    0.005770264,
    0.005819639,
    0.03734049,
    -0.017735416,
    -0.0026645917,
    -0.020855902,
    -0.015128428,
    -0.010737366,
    -0.0013898996,
    -0.03726149,
    0.0064351778,
    0.028281866,
    -0.0041013975,
    -0.0056682234,
    0.005678098,
    0.014628097,
    0.0014219932,
    0.024977049,
    0.025503712,
    0.01570776,
    -0.021474732,
    -0.009308789,
    -0.021000734,
    0.022014562,
    0.017116586,
    0.001008891,
    -0.005855847,
    -0.012501691,
    -0.036629494,
    -0.020592568,
    -0.009295623,
    0.023871053,
    -0.0023749263,
    -0.0029295695,
    -0.018446412,
    0.01842008,
    -0.03052019,
    -0.040763807,
    0.040000144,
    0.012251525,
    0.019407574,
    0.024476718,
    0.0014310454,
    0.020790068,
    0.025701212,
    -0.009565538,
    -0.02904553,
    -0.048532102,
    0.024489883,
    -0.0067478847,
    -0.022738725,
    0.0041639386,
    0.0015989195,
    -0.006264012,
    -0.007162633,
    0.00032566773,
    0.0062508453,
    0.006086263,
    0.030362189,
    0.0066260938,
    -0.0025658421,
    0.016484588,
    -0.02633321,
    0.0353655,
    0.021593232,
    0.0022366769,
    -0.046399113,
    0.004140897,
    -0.016181758,
    -0.0025674878,
    0.0011150468,
    -0.006481261,
    -0.02075057,
    -0.020105405,
    0.018393746,
    -0.0007727151,
    -0.023015225,
    -0.015141595,
    -0.013706435,
    0.004302188,
    0.00025942325,
    -0.0035056083,
    0.005371975,
    -0.011876277,
    -0.0140751,
    0.0353655,
    -0.001406358,
    -0.03436484,
    -0.01616859,
    0.007248216,
    -0.010184368,
    -0.029387861,
    0.0022037604,
    -0.014575431,
    -0.005480599,
    0.013160021,
    0.0049045603,
    0.007360132,
    0.007840713,
    -0.012909856,
    -0.014417431,
    -0.006247554,
    0.03963148,
    -0.02400272,
    0.010125118,
    0.012337108,
    0.0030019858,
    -0.01256094,
    0.019249575,
    0.0071362997,
    -0.02438455,
    -0.031810515,
    -0.046241116,
    -2.1138572e-05,
    0.0063792197,
    -0.012093526,
    0.013666935,
    -0.0067413016,
    -0.020329237,
    -0.016339757,
    -0.025688045,
    -0.0063002203,
    -0.0352075,
    -9.550931e-05,
    0.0044865203,
    -0.021145567,
    -0.00079740246,
    -0.014588597,
    -0.16305523,
    0.012949355,
    0.020790068,
    -0.034259506,
    0.015273261,
    0.020987567,
    -0.019341743,
    -0.0030349023,
    -0.0047004777,
    -0.019315409,
    -0.0041277306,
    -0.0020770319,
    -0.038446486,
    -0.0351285,
    -0.015049429,
    0.01347602,
    0.017551083,
    -0.0140751,
    0.027386537,
    0.021211399,
    0.025819711,
    -0.033522174,
    0.0041540638,
    -0.012054026,
    0.023541888,
    0.0074588815,
    -0.014786096,
    0.036102828,
    0.0028209449,
    -0.022975724,
    -0.02075057,
    -0.026741374,
    0.038183153,
    0.011290363,
    0.022817725,
    0.01489143,
    0.050112095,
    0.016313422,
    -0.022304228,
    0.021106066,
    0.04381846,
    0.026438542,
    0.004121147,
    0.0070243836,
    0.016102757,
    0.007932879,
    0.019763073,
    -0.030625522,
    0.009677454,
    0.008110628,
    -0.0014030663,
    -0.04458212,
    0.0010294638,
    0.0032982344,
    0.003349255,
    0.012093526,
    -0.00084595435,
    0.04545112,
    -0.0070309667,
    -0.002671175,
    0.007906546,
    -0.024726883,
    -0.014048767,
    -0.016550422,
    0.014970429,
    -0.0011956922,
    -0.037287824,
    0.019302242,
    0.00024029052,
    0.00596118,
    -0.0057801395,
    0.007129716,
    0.0068927174,
    -0.010237035,
    0.020381903,
    0.0034134423,
    -0.004838727,
    0.0025691336,
    0.012916439,
    -0.0007097623,
    -0.006171846,
    0.015747258,
    -0.011790694,
    0.013561603,
    -0.009177123,
    0.016260756,
    0.00628047,
    -0.012449024,
    -0.04784744,
    0.020408237,
    0.011540528,
    -0.009565538,
    -0.0012384837,
    0.020566236,
    0.0020786778,
    0.008314711,
    0.015720926,
    0.0032192348,
    -0.0013964829,
    0.0016803879,
    -0.0030711105,
    -0.015747258,
    -0.0045227287,
    -0.01188286,
    0.016813753,
    -0.010553033,
    0.003650441,
    0.014641264,
    0.0057768477,
    -0.010322617,
    -0.020855902,
    0.016510922,
    0.027096871,
    0.02605671,
    -0.036813825,
    0.029440528,
    -0.031257518,
    -0.0025131756,
    0.007537881,
    0.0042593963,
    0.072574325,
    -0.011803861,
    -0.02027657,
    0.018235747,
    0.0090454575,
    0.017235085,
    -0.08110628,
    0.0046774363,
    -0.010256785,
    -0.014496432,
    0.011553695,
    0.033127178,
    -0.00016067372,
    0.018090915,
    -0.012923022,
    0.022264728,
    -0.0023666972,
    -0.011231113,
    -0.0006974186,
    -0.008894041,
    0.027096871,
    -0.0030908603,
    -0.007169216,
    0.009736704,
    -0.037551157,
    0.024094885,
    0.012185693,
    -0.013785435,
    0.006115888,
    -0.027913202,
    -0.010921698,
    0.0066688852,
    -0.017867083,
    0.011217947,
    0.030072525,
    -0.03973681,
    0.045240454,
    -0.025029715,
    0.01461493,
    -0.02481905,
    -0.014298933,
    0.0033541925,
    -0.017235085,
    -0.02466105,
    0.030915188,
    -0.021514231,
    -0.0012458899,
    0.003122131,
    -0.01473343,
    -0.039447147,
    -0.000631997,
    -0.0033558384,
    -0.005085601,
    0.027913202,
    -0.0024539258,
    -0.006793968,
    -0.00017528042,
    -0.027096871,
    -0.026122542,
    0.0010870678,
    0.039947476,
    0.045319453,
    -0.006366053,
    -0.014140933,
    -0.03307451,
    -0.024529384,
    0.0010401617,
    -0.024318717,
    -0.030625522,
    0.022659726,
    0.012574107,
    0.0055563073,
    -0.041000806,
    -0.005085601,
    -0.03133652,
    -0.0026218002,
    -0.04310746,
    0.0140751,
    -0.0069783004,
    0.0010994115,
    -0.0072416323,
    0.031968515,
    0.0040816474,
    -0.02043457,
    0.00903229,
    0.0062607205,
    -0.013166605,
    -0.003765649,
    0.007820963,
    0.008505627,
    0.01706392,
    -0.0041738134,
    -0.0044568954,
    0.0010500367,
    -0.023370722,
    -0.038393818,
    0.018011915,
    -0.0008262044,
    0.0009949015,
    0.0060237213,
    -0.014430598,
    -0.011836777,
    -0.0152074285,
    0.0027221953,
    0.016181758,
    0.017458918,
    -0.0023420097,
    -0.006556969,
    -0.05940772,
    0.014970429,
    -0.0034035672,
    -0.0281502,
    0.0043548546,
    -0.022238394,
    -0.0071362997,
    -0.004555645,
    0.005085601,
    0.033100843,
    -0.0011306822,
    0.023634056,
    0.0050164764,
    -0.0004735863,
    -0.016273923,
    0.019249575,
    0.04784744,
    -0.0102633685,
    0.0014779513,
    -0.021119233,
    -0.01780125,
    0.011790694,
    0.010776865,
    0.021000734,
    -0.0048058107,
    0.0057208897,
    -0.0037195657,
    0.05177109,
    -0.011375946,
    -0.026780874,
    0.004470062,
    -0.012784773,
    0.017077086,
    0.0281502,
    0.014022433,
    0.005181059,
    0.015062596,
    0.018367413,
    -0.0018729494,
    0.03407517,
    -0.0421068,
    -0.03094152,
    0.016813753,
    -0.022896726,
    -0.010559617,
    0.006451636,
    0.0060928464,
    -0.006142221,
    0.019684073,
    0.017314084,
    0.0019963863,
    0.0054740156,
    -0.025806544,
    -0.03873615,
    0.006491136,
    -0.00707705,
    0.041158807,
    0.008235711,
    0.009986869,
    -0.0020325945,
    0.016221257,
    0.009249539,
    0.015536593,
    -0.01880191,
    0.004210022,
    -0.016352922,
    -0.0023321349,
    0.012258109,
    0.030230524,
    -0.024884881,
    -0.0075773806,
    0.011797277,
    -0.0040322724,
    0.04858477,
    -0.0024358218,
    -0.006461511,
    0.0065339273,
    0.02438455,
    -0.022264728,
    0.0040421477,
    0.0080250455,
    0.0066919266,
    0.0050724344,
    0.010901948,
    0.04434512,
    0.022146229,
    -0.008459543,
    -0.013094188,
    -0.013917101,
    -0.028597865,
    0.005576057,
    -0.018736077,
    0.0039598565,
    0.004575395,
    0.0052765165,
    -0.019947406,
    -0.005312725,
    0.0153917605,
    0.033917174,
    0.019723574,
    0.020671569,
    0.005520099,
    -0.00034336036,
    -0.031257518,
    0.010776865,
    -0.010941449,
    -0.03913115,
    -0.010671533,
    0.018564912,
    -0.0037129824,
    0.0049012685,
    0.0139961,
    0.0031106102,
    0.023699887,
    -0.020829568,
    0.026069876,
    -0.032100182,
    -0.021777563,
    -0.03702449,
    0.023081057,
    -0.014180433,
    0.01535226,
    0.019512909,
    0.013666935,
    0.019473407,
    0.027175872,
    0.00012981449,
    -0.009341706,
    -0.006879551,
    0.017103419,
    -0.014759763,
    -0.0034167338,
    -0.022778226,
    -0.009644537,
    -0.014325266,
    0.010190952,
    -0.01911791,
    0.013166605,
    -0.01965774,
    0.074733645,
    0.011402279,
    0.036919158,
    0.014285766,
    -0.008123795,
    0.0086767925,
    0.007709047,
    0.019723574,
    -0.02679404,
    -0.03349584,
    0.027728869,
    -0.006227804,
    0.0012615253,
    -0.0126860235,
    0.011066531,
    -0.018090915,
    -0.032100182,
    0.030309523,
    -0.005075726,
    0.0013545144,
    0.0035352332,
    0.009624788,
    0.019183742,
    -0.0048058107,
    -0.0055003488,
    0.04036881,
    0.014878263,
    0.0037031074,
    -0.030256856,
    -0.008894041,
    0.019394409,
    0.037208825,
    -0.034391172,
    -0.010697866,
    -0.014417431,
    0.012521441,
    0.0095128715,
    -0.020250237,
    -0.004595145,
    0.0096116215,
    0.0035154833,
    0.04310746,
    -0.014101434,
    -0.007531298,
    0.0014532639,
    -0.00082126696,
    0.0005262527,
    -0.035655163,
    -0.039262813
  ]
}